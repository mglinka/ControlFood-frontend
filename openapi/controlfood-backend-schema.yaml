{"openapi":"3.0.1","info":{"title":"Library APIS","description":"Library Management Apis.","version":"1.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"security":[{"JavaInUseSecurityScheme":[]}],"paths":{"/api/v1/user-data":{"put":{"tags":["account-controller"],"operationId":"modifyAccountSelf","parameters":[{"name":"If-Match","in":"header","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAccountDataDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GetAccountPersonalDTO"}}}}}}},"/api/v1/allergy-profiles/update/{id}":{"put":{"tags":["allergy-profile-controller"],"operationId":"updateAllergyProfile","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAllergyProfileDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GetAllergyProfileDTO"}}}}}}},"/api/v1/products/add":{"post":{"tags":["product-controller"],"operationId":"createProduct","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateProductDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GetProductDTO"}}}}}}},"/api/v1/me/change-password":{"post":{"tags":["me-controller"],"operationId":"changePassword","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RequestChangePassword"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/v1/auth/register":{"post":{"tags":["authentication-controller"],"operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthenticationResponse"}}}}}}},"/api/v1/auth/logout":{"post":{"tags":["authentication-controller"],"operationId":"logout","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/auth/authenticate":{"post":{"tags":["authentication-controller"],"operationId":"authenticate","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthenticationRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/v1/allergy-profiles/create":{"post":{"tags":["allergy-profile-controller"],"operationId":"createProfile","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAllergyProfileDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GetAllergyProfileDTO"}}}}}}},"/api/v1/allergens/add":{"post":{"tags":["allergen-controller"],"operationId":"addAllergen","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAllergenDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GetAllergenDTO"}}}}}}},"/api/v1/account/changePassword":{"patch":{"tags":["account-controller"],"operationId":"changePassword_1","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RequestChangePassword"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/units":{"get":{"tags":["unit-controller"],"operationId":"getAllUnits","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UnitDTO"}}}}}}}},"/api/v1/products":{"get":{"tags":["product-controller"],"operationId":"getAllProducts","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GetProductDTO"}}}}}}}},"/api/v1/products/{id}":{"get":{"tags":["product-controller"],"operationId":"getProductById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GetProductDTO"}}}}}}},"/api/v1/products/withLabels":{"get":{"tags":["product-controller"],"operationId":"getAllProductsWIthLabels","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GetProductDTO"}}}}}}}},"/api/v1/products/by-ean/{ean}":{"get":{"tags":["product-controller"],"operationId":"getProductByEan","parameters":[{"name":"ean","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GetProductDTO"}}}}}}},"/api/v1/auth/verify-account/{token}":{"get":{"tags":["authentication-controller"],"operationId":"verifyAccount","parameters":[{"name":"token","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/auth/refresh-token":{"get":{"tags":["authentication-controller"],"operationId":"refreshToken","parameters":[{"name":"Authorization","in":"header","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/v1/allergy-profiles":{"get":{"tags":["allergy-profile-controller"],"operationId":"getAllProfiles","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GetAllergyProfileDTO"}}}}}}}},"/api/v1/allergy-profiles/{id}":{"get":{"tags":["allergy-profile-controller"],"operationId":"getAllergyProfileById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GetAllergyProfileDTO"}}}}}}},"/api/v1/allergens":{"get":{"tags":["allergen-controller"],"operationId":"getAllAllergens","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GetAllergenDTO"}}}}}}}},"/api/v1/accounts":{"get":{"tags":["account-controller"],"operationId":"getAllAccounts","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GetAccountDTO"}}}}}}}},"/api/v1/account/{id}":{"get":{"tags":["account-controller"],"operationId":"getAccountById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GetAccountDTO"}}}}}}},"/api/v1/allergens/remove/{id}":{"delete":{"tags":["allergen-controller"],"operationId":"removeAllergen","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/account/{id}/delete":{"delete":{"tags":["account-controller"],"operationId":"deleteAccount","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}}},"components":{"schemas":{"UpdateAccountDataDTO":{"required":["gender"],"type":"object","properties":{"firstName":{"maxLength":32,"minLength":2,"type":"string"},"lastName":{"maxLength":64,"minLength":2,"type":"string"},"gender":{"type":"integer","format":"int32"}}},"GetAccountPersonalDTO":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"username":{"type":"string"},"email":{"type":"string"},"role":{"$ref":"#/components/schemas/Role"},"active":{"type":"boolean"},"verified":{"type":"boolean"},"nonLocked":{"type":"boolean"},"firstName":{"type":"string"},"lastName":{"type":"string"},"gender":{"type":"integer","format":"int32"}}},"Role":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"version":{"type":"integer","format":"int64"},"name":{"type":"string","enum":["ROLE_ADMIN","ROLE_USER","ROLE_SPECIALIST"]},"authority":{"type":"string"}}},"GetAllergenDTO":{"type":"object","properties":{"allergen_id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"UpdateAllergyProfileDTO":{"type":"object","properties":{"allergens":{"type":"array","items":{"$ref":"#/components/schemas/GetAllergenDTO"}}}},"GetAllergenIntensityDTO":{"type":"object","properties":{"allergen_id":{"type":"string","format":"uuid"},"name":{"type":"string"},"intensity":{"type":"string"}}},"GetAllergyProfileDTO":{"type":"object","properties":{"profile_id":{"type":"string","format":"uuid"},"allergens":{"type":"array","items":{"$ref":"#/components/schemas/GetAllergenIntensityDTO"}}}},"AdditionDTO":{"type":"object","properties":{"name":{"type":"string"}}},"CompositionDTO":{"type":"object","properties":{"ingredientDTOS":{"type":"array","items":{"$ref":"#/components/schemas/IngredientDTO"}},"additionDTOS":{"type":"array","items":{"$ref":"#/components/schemas/AdditionDTO"}},"flavourDTO":{"$ref":"#/components/schemas/FlavourDTO"}}},"CreateProductDTO":{"required":["ean","producerDTO"],"type":"object","properties":{"ean":{"pattern":"^[0-9]{13}$","type":"string"},"producerDTO":{"$ref":"#/components/schemas/ProducerDTO"},"productName":{"type":"string"},"productDescription":{"type":"string"},"productQuantity":{"type":"integer","format":"int32"},"unitDTO":{"$ref":"#/components/schemas/UnitDTO"},"packageTypeDTO":{"$ref":"#/components/schemas/PackageTypeDTO"},"country":{"type":"string"},"compositionDTO":{"$ref":"#/components/schemas/CompositionDTO"},"nutritionalIndexDTOS":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/NutritionalIndexDTO"}},"productIndexDTOS":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/ProductIndexDTO"}},"labelDTO":{"$ref":"#/components/schemas/LabelDTO"},"portionDTO":{"$ref":"#/components/schemas/PortionDTO"},"ratingDTOS":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/RatingDTO"}},"nutritionalValueDTOS":{"type":"array","items":{"$ref":"#/components/schemas/NutritionalValueDTO"}}}},"FlavourDTO":{"type":"object","properties":{"name":{"type":"string"}}},"IngredientDTO":{"type":"object","properties":{"name":{"type":"string"}}},"LabelDTO":{"type":"object","properties":{"storage":{"type":"string"},"durability":{"type":"string"},"instructionsAfterOpening":{"type":"string"},"preparation":{"type":"string"},"allergens":{"type":"string"},"image":{"type":"string"}}},"NutritionalIndexDTO":{"type":"object","properties":{"indexValue":{"type":"integer","format":"int32"},"legend":{"type":"string"}}},"NutritionalValueDTO":{"type":"object","properties":{"nutritionalValueName":{"$ref":"#/components/schemas/NutritionalValueNameDTO"},"quantity":{"type":"number","format":"double"},"unit":{"$ref":"#/components/schemas/UnitDTO"},"nrv":{"type":"number","format":"double"}}},"NutritionalValueGroupDTO":{"type":"object","properties":{"groupName":{"type":"string"}}},"NutritionalValueNameDTO":{"required":["name"],"type":"object","properties":{"group":{"$ref":"#/components/schemas/NutritionalValueGroupDTO"},"name":{"type":"string","example":"Witamina C"}}},"PackageTypeDTO":{"type":"object","properties":{"name":{"type":"string"}}},"PortionDTO":{"type":"object","properties":{"portionQuantity":{"type":"integer","format":"int32"},"unitDTO":{"$ref":"#/components/schemas/UnitDTO"}}},"ProducerDTO":{"type":"object","properties":{"name":{"type":"string"},"address":{"type":"string"},"countryCode":{"type":"integer","format":"int32"},"contact":{"type":"string"},"nip":{"type":"string"},"rmsd":{"type":"integer","format":"int32"}}},"ProductIndexDTO":{"type":"object","properties":{"indexName":{"type":"string"},"indexValue":{"type":"integer","format":"int32"}}},"RatingDTO":{"type":"object","properties":{"groupName":{"type":"string"},"name":{"type":"string"},"products":{"type":"array","items":{"type":"string"}}}},"UnitDTO":{"required":["name"],"type":"object","properties":{"name":{"type":"string","example":"ml"}}},"GetProductDTO":{"required":["compositionId","ean","labelId","packageTypeId","portionId","producerId","productName","productQuantity","unitId","version"],"type":"object","properties":{"id":{"type":"string","format":"uuid"},"version":{"type":"integer","format":"int64"},"country":{"type":"string"},"ean":{"type":"string"},"productDescription":{"type":"string"},"productName":{"type":"string"},"productQuantity":{"type":"integer","format":"int32"},"compositionId":{"type":"string","format":"uuid"},"labelId":{"type":"string","format":"uuid"},"packageTypeId":{"type":"string","format":"uuid"},"portionId":{"type":"string","format":"uuid"},"producerId":{"type":"string","format":"uuid"},"unitId":{"type":"string","format":"uuid"},"labelDTO":{"$ref":"#/components/schemas/LabelDTO"}}},"RequestChangePassword":{"type":"object","properties":{"currentPassword":{"type":"string"},"newPassword":{"type":"string"},"confirmationPassword":{"type":"string"}}},"RegisterRequest":{"type":"object","properties":{"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"}}},"AuthenticationResponse":{"type":"object","properties":{"token":{"type":"string"}}},"AuthenticationRequest":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}},"AllergenIntensityDTO":{"required":["allergenId"],"type":"object","properties":{"allergenId":{"type":"string"},"intensity":{"type":"string"}}},"CreateAllergyProfileDTO":{"required":["accountId","allergens"],"type":"object","properties":{"accountId":{"type":"string"},"allergens":{"type":"array","items":{"$ref":"#/components/schemas/AllergenIntensityDTO"}}}},"CreateAllergenDTO":{"type":"object","properties":{"name":{"type":"string"}}},"GetAccountDTO":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"email":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"}}}},"securitySchemes":{"JavaInUseSecurityScheme":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}